# 数据库界面构建器 - 产品需求文档

一个现代化的Web应用，允许用户创建和管理自定义的类数据库界面，以各种格式组织和可视化数据。

**体验品质**：
1. **专业** - 干净、专注于业务的界面，给人以数据管理的信任感
2. **直观** - 无需解释的界面，减少数据库操作的认知负担
3. **高效** - 快速的数据输入和检索，配有键盘快捷键和智能默认值

**复杂度级别**：
- 轻量级应用（多个功能但基本状态）
- 这一选择允许我们提供核心的数据库界面功能，同时在Web环境中保持简单性和性能。

## 核心功能

### 导航栏功能扩展
- **功能**：在左侧导航栏的最下方添加一个超链接，链接文本为"反馈建议入口"，点击后可跳转至指定外部网页
- **目的**：提供用户反馈通道，收集产品改进建议
- **触发**：点击左侧导航栏最下方的"反馈建议入口"超链接
- **流程**：点击链接 → 浏览器打开新标签页并跳转到指定的外部反馈页面
- **成功标准**：链接能正确跳转，用户可以在外部页面提交反馈建议

- **功能**：在左侧导航栏中以纯文本形式展示当前版本信息，文本样式设置为蓝色粗体
- **目的**：方便用户了解当前使用的产品版本，便于后续维护更新
- **触发**：应用加载时自动显示
- **流程**：应用初始化 → 读取版本信息 → 在左侧导航栏适当位置以蓝色粗体文本显示
- **成功标准**：版本信息清晰可见，样式符合要求，便于后续更新维护

### 表格管理
- **功能**：创建、重命名和删除具有自定义列定义的数据表
- **目的**：为组织不同类型的数据提供基础
- **触发**：点击"新建表格"按钮或表格管理菜单
- **流程**：点击新建表格 → 输入表格名称 → 定义初始列 → 保存 → 表格显示在侧边栏
- **成功标准**：表格在会话之间保持，并可以被选择/修改

### 列配置
- **功能**：添加/删除具有不同数据类型（文本、数字、日期时间、布尔值、选择）的列
- **说明**：
  - 日期时间类型支持精确到小时和分钟的选择，允许用户在输入日期的同时指定具体时间
  - 选择类型目前支持单选模式，新增多选项功能，允许用户根据自身需求，自主选择创建多选项栏位或单选选项栏位
- **目的**：允许定制数据结构以匹配特定用例
- **触发**：点击列标题菜单或"添加列"按钮
- **流程**：点击添加列 → 选择数据类型 → 输入列名称 → 配置选项 → 选择单选/多选模式（针对选择类型）→ 保存 → 列显示在表格中
- **成功标准**：列保持其类型验证并正确显示，选择类型的单选/多选模式能够正常工作

### 数据输入与编辑
- **功能**：添加、编辑和删除行，支持内联编辑和表单验证
- **目的**：管理实际数据内容的核心功能
- **触发**：点击空行、编辑现有单元格或删除行按钮
- **流程**：点击单元格 → 进入编辑模式 → 输入数据 → 按Enter/Tab → 数据保存 → 移动到下一个单元格
- **成功标准**：数据正确持久化，每种列类型的验证工作正常

### 视图模式
- **功能**：在网格视图和卡片视图之间切换，以满足不同的数据可视化需求
- **目的**：在用户查看和交互数据时提供灵活性
- **触发**：点击工具栏中的视图模式切换按钮
- **流程**：选择视图模式 → 数据以新格式重新渲染 → 交互适应视图类型
- **成功标准**：所有数据在两种视图模式下都保持可访问和可编辑

### 数据导出
- **功能**：将表格数据导出为xlsx格式的Excel文件以供外部使用，此为默认导出格式
- **目的**：允许用户提取其数据用于备份或集成目的，方便在Excel中进行进一步分析和处理
- **触发**：点击表格工具栏中的导出按钮
- **流程**：点击匯出 → 系统自动以xlsx格式生成文件 → 文件下载到设备
- **成功标准**：导出的数据保持完整性，可以在Excel中正常打开和编辑

### 批量导出
- **功能**：支持用户选择多个数据行进行导出，默认以xlsx格式的Excel文件形式导出所选数据
- **目的**：允许用户仅导出需要的数据子集，提高数据处理效率
- **触发**：在表格中选择多个数据行后，点击批量操作工具栏中的"导出选中"按钮
- **流程**：选择数据行或全選 → 点击"匯出选中"按钮 → 系统自动以xlsx格式生成包含所选数据的文件 → 文件下载到设备
- **成功标准**：仅匯出选中的数据行，数据保持完整性，可以在Excel中正常打开和编辑

## 边缘情况处理

- **空表格**：显示带有示例数据建议的有用占位符
- **无效数据类型**：提供清晰的验证消息并防止无效输入
- **大型数据集**：为具有多行的表格实现虚拟滚动
- **数据冲突**：通过乐观更新和冲突解决处理并发编辑
- **存储限制**：当接近浏览器存储限制时通知用户

## 设计方向

设计应感觉专业且专注于数据库，类似于Airtable或Notion数据库等现代SaaS工具。干净的线条、微妙的阴影和数据密集但有组织的布局，优先考虑功能而非装饰。

## 颜色选择

互补色（相反颜色）- 使用蓝色和橙色的互补方案在主要操作（蓝色）和强调元素（橙色）之间创建清晰的视觉层次结构，唤起信任和效率。

- **主色**：深蓝（oklch(0.45 0.15 240)）- 传达数据库操作的可靠性和专业性
- **辅助色**：浅蓝（oklch(0.85 0.08 240)）用于背景，中性灰（oklch(0.6 0 0)）用于次要文本
- **强调色**：暖橙色（oklch(0.7 0.15 45)）- 用于CTA和重要状态指示器的引人注目的高亮
- **前景/背景配对**：
  - 背景（白色 oklch(0.98 0 0)）：深灰文本（oklch(0.2 0 0)）- 比率 12.6:1 ✓
  - 主色（深蓝 oklch(0.45 0.15 240)）：白色文本（oklch(0.98 0 0)）- 比率 8.2:1 ✓
  - 辅助色（浅蓝 oklch(0.85 0.08 240)）：深蓝文本（oklch(0.25 0.12 240)）- 比率 6.1:1 ✓
  - 强调色（暖橙色 oklch(0.7 0.15 45)）：白色文本（oklch(0.98 0 0)）- 比率 4.8:1 ✓

## 字体选择

Inter字体家族，因其在数据密集型界面中的出色可读性和专业外观，同时适用于标题和表格数据显示。

- **排版层次结构**：
  - H1（应用标题）：Inter Bold/24px/紧凑字母间距
  - H2（表格名称）：Inter Semibold/18px/正常间距
  - H3（列标题）：Inter Medium/14px/宽字母间距
  - 正文（单元格数据）：Inter Regular/14px/正常间距
  - 标签（表单字段）：Inter Medium/12px/正常间距

## 动画

微妙而功能性的动画，增强数据操作工作流程，而不会在密集数据输入任务期间造成干扰。

- **有目的的意义**：新行/列的快速淡入，视图模式之间的平滑过渡，以及表明交互性的柔和悬停状态
- **运动层次结构**：行添加获得优先动画焦点，其次是列更改，UI状态更改最微妙

## 组件选择

- **组件**：用于数据显示的表格，用于表格创建的对话框，用于卡片视图模式的卡片，用于操作的按钮，用于数据输入的输入/选择，用于视图切换的选项卡，用于移动列配置的侧边栏
- **自定义**：自定义数据类型指示器，可排序的列标题，内联编辑组件，虚拟滚动容器
- **状态**：按钮在保存期间显示加载状态，输入突出显示验证错误，行为操作显示悬停状态，表格显示带有引导的空状态
- **图标选择**：添加的加号，编辑的铅笔，删除的垃圾桶，表格视图的Grid3x3，卡片视图的LayoutGrid，导出的下载
- **间距**：卡片16px一致填充，工具栏8px间距，密集数据显示的单元格4px填充
- **移动端**：工具栏按钮垂直堆叠，使用侧边栏组件进行列配置，在移动屏幕上默认切换到卡片视图

## 响应式设计与自适应显示

### 核心需求
- **功能**：网页前端的宽度与长度实现自适配效果，确保页面能够根据不同设备的屏幕尺寸自动适应显示
- **目的**：提供良好的跨设备用户体验，确保在桌面、平板和移动设备上都能正常使用应用
- **触发**：应用加载时自动检测屏幕尺寸，并在屏幕尺寸变化时实时调整布局
- **成功标准**：在不同屏幕尺寸下，所有功能保持可用，界面布局合理，内容可读性良好

### 实现策略
- **弹性布局**：使用CSS Flexbox和Grid布局实现页面元素的自适应排列
- **媒体查询**：针对不同屏幕尺寸（超大屏幕、大屏幕、中等屏幕、小屏幕、平板、移动设备）设置断点，应用不同的样式规则
- **相对单位**：使用相对单位（如rem、em、%、vw、vh）代替固定像素值，确保元素大小能够根据屏幕尺寸调整
- **视图模式自动切换**：在小屏幕设备上默认使用卡片视图，在大屏幕设备上默认使用网格视图
- **导航栏响应式调整**：在移动设备上，导航栏可折叠或转换为汉堡菜单
- **表格自适应**：在小屏幕设备上，表格可横向滚动，或在必要时转换为更适合移动设备的显示方式
- **触控友好的设计**：确保在触摸设备上，所有交互元素的尺寸和间距都适合触摸操作
- **字体大小响应式调整**：根据屏幕尺寸自动调整字体大小，确保在各种设备上都有良好的可读性

### 断点设计
- **超大屏幕**：1600px及以上 - 完全展开的布局，更多并列内容
- **大屏幕**：1400px-1599px - 标准桌面布局
- **中等屏幕**：1200px-1399px - 减少侧边空间，保持核心功能区域
- **小屏幕**：1024px-1199px - 紧凑布局，可能隐藏部分非核心UI元素
- **平板**：768px-1023px - 单列或双列布局，简化导航
- **移动设备**：360px-767px - 单列布局，折叠导航，简化交互